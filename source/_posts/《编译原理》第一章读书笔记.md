---
title: 《编译原理》第一章读书笔记
categories: [计算机]
tags: 
- 编译 
- 编译器
- Compiler
- LLVM
- flex
- bison
- lex
- yacc
abbrlink: 28602
date: 2021-02-16 18:11:31
---

# 《编译原理》读书笔记  第1章 引论	

## 1.1 语言处理器

- 在一个程序可以运行之前，它首先需要被翻译成一种能够被计算机执行的形式。
- 完成这项翻译工作的软件系统称为编译器（Compiler）。



## 1.2 一个编译器的结构

- 编译器它能够将源程序映射为在语义上等家的目标程序；这个映射过程由两个部分组成：分析部分和综合部分。
  - 分析(analysis)部分把源程序分解成为多个组成要素，并在这些要素之上加上语法结构，然后它使用这个结构来创建该源程序的一个中间表示。
  - 综合(synthesis)部分根据中间表示和符号表中的信息来构造用户接待的目标程序。
  - 分析部分经常被成为编译器的前端(front end)；而综合部分成为后段(back end)。



### 1.2.1 词法分析

- 编译器的第一个步骤称为词法分析（lexical analysis) 或扫描(scanning); 词法分析器读如组成源程序的字符流，并且将它们组织成为有意义的词素(lexeme)的序列。

  

### 1.2.2 语法分析

- 编译器的第二个步骤称为语法分析(syntax analysis)或解析(parsing)。词法分析器使用由词法分析器生成的各个词法单元的一个分量创建树形的中间表示。
- 该中间表示给出了词法分析产生的词法单元流的词法结构。一个常用的表示方法是语法树(syntax tree)， 树中的每个内部节点表示一个运算，而该节点的子节点表示该运算的分量。

### 1.2.3 语义分析

- 语义分析器(semantic analyzer)使用语法树和符号表中的信息来检查源程序是否和语言定义的语义一致；它同时也手机类型信息，并把这些信息皴法在语法树或符号表中。
- 语义分析的里一个重要部分是类型检查（type checking)。编译器检查每个运算符是否具有匹配的运算分量。

### 1.2.4 中间代码生成

- 我们可以把中间表示(IR)看作是某个抽象机器的程序。该中间表示应该具有两个重要的性质：
  - 它应该易于生成。
  - 且能够被轻松地翻译为目标机器上的语言。

### 1.2.5 代码优化

- 机器无关的代码优化步骤试图改进中间代码，以便生成更好的目标代码。“更好”通常意味着更快，但是也可能会有其他目标，如更短的或能耗更低的目标代码。

### 1.2.6 代码生成

- 代码生成器以源程序的中间表示形式作为输入，并把它映射到目标语言。如果目标语言是机器代码，那么就**必须为程序使用的每个变量选择寄存器或内存位置。**
- 然后，中间指令被翻译成为能够完成相同任务的机器指令序列。
- 代码生成的一个至关重要的方面是合理分配寄存器以存放变量的值。

### 1.2.7 符号表管理

- 编译器的重要功能之一是记录源程序中使用的变量的名字，并收集和每个名字的各种属性有关的信息。
- 这些属性可以提供一个名字的存储分配、它的类型、作用域等信息。
- 对于过程名字（函数），这些信息还包括：它的参数数量和类型、每个参数的传递方法（比如传值或传引用）以及返回类型。

### 1.2.8 将多个步骤组合成趟(pass)

- 前面关于步骤的讨论讲的是一个编译器的逻辑组织方式。在一个特定的实现中，多个步骤的活动可以被组合成一趟（pass）。

### 1.2.9 编译器构造工具

- 人们创建了一些更加专业的工具来实现编译器的不同阶段。这些工具使用专用的语言来描述和实现特定的组件，其中最重要的工具都能够隐藏生成算法的细节，并且它们生成的组件易于和编译器的其他部分相集成。
- 这些常用的编译器构造工具包括：
  1. 语法分析器的生成器。
  2. 扫描器的生成器。
  3. 语法制导的翻译引擎：可以生成一组用于遍历分析树并生成中间代码的例程。
  4. 代码生成器的生成器。
  5. 数据流分析引擎。
  6. 编译器构造工具集。

## 1.3 程序设计语言的发展历程

### 1.3.1 走向高级程序设计语言

- 走向更加人类友好的程序设计语言的第一步是20世纪50年代早期人们对助记汇编语言的开发。
- 通过语言的代分类：
  - 第一代语言是机器语言；
  - 第二代语言是汇编语言；
  - 第三代语言是Fortran, Cobol, Lisp, C, C++, C#及Java这样的高级程序设计语言；
  - 第四代语言是为特定应用设计的语言，比如用于生成报告的NOMAD，用于数据库查询的SQL和用于文本排版的Postscript;
  - 第五代语言指的是基于逻辑和约束的语言，比如Prolog和OPS5。
- 程序中指明如何完成一个计算任务的语言称为强制式(imperative)语言；程序中指明要进行哪些计算的语言称为声明式(declarative)语言。

### 1.3.2 对编译器的影响

- 编译器必须能够正确翻译用源语言书写的所有程序。这样的程序的集合通常是无穷的。为一个源程序生成最佳目标代码的问题一般来说是不可判定的。因此编译器的设计者必须作出折衷处理，确定解决某些问题，使用哪些启发式信息，以便解决高校代码生成的问题。

## 1.4 构建一个编译器的相关科学

- 编译器的设计中有很多通过对数学方法抽象出问题本质从而解决现实世界中复杂问题的完美例子。
- 这些例子可以被用来说明如何使用抽象方法来解决问题：***接受一个问题，写出抓住了问题的关键特性的数学抽象表示，并用数学技术来解决它***。

### 1.4.1 编译器设计和实现中的建模

- 对编译器的研究主要是**有关如何设计正确的数学模型和选择正确算法的研究**。

### 1.4.2 代码优化的科学

- 如果想使得编译器产生经过良好优化的代码，图，矩阵和线性规划之类的模型是必不可少的。
- 在编译器设计中，**最重要的技能之一**是*明确描述出真正要解决的问题的能力*。
- 编译器优化必须满足下面的设计目标：
  - 优化必须是正确的，不能改变被编译程序的含义。
  - 优化必须能够改善很多程序的性能。
  - 优化所需要的时间必须保持在合理的范围内。
  - 所需要的工程方面的工作必须是可管理的。

## 1.5 编译技术的应用

